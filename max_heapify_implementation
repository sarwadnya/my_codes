#include<bits/stdc++.h>
using namespace std;
int left(int i)
{
    return 2*i+1;
}
int right(int i)
{
    return 2*i+2;
}
void max_heapify(int arr[],int index,int n)
{
    int maximum=index;
    if(left(index)<n && arr[maximum]<arr[left(index)])
    {
        cout<<"left"<<endl;
        maximum=left(index);
    }
    if(right(index)<n && arr[maximum]<arr[right(index)])
    {
        cout<<"right"<<endl;
        maximum=right(index);
    }
    cout<<arr[maximum]<<" "<<arr[index]<<endl;
    if(maximum==index)
        return;
    int t=arr[index];
    arr[index]=arr[maximum];
    arr[maximum]=t;
    max_heapify(arr,maximum,n);
}
int main()
{
    int n;
    cin>>n;
    int arr[n];
    for(int i=0;i<n;i++)
        cin>>arr[i];
    for(int i=n/2;i>=0;i--)
    {
        cout<<"index "<<i<<endl;
        max_heapify(arr,i,n);
        for(int j=0;j<n;j++)
            cout<<arr[j]<<" ";
        cout<<endl;
    }
    for(int i=0;i<n;i++)
        cout<<arr[i]<<" ";
    cout<<endl;
    return 0;
}
